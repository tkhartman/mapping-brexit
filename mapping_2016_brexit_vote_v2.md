Who Brexited? Mapping the 2016 EU Referendum Vote
================
Todd K Hartman
Last updated 2017-11-26

Housekeeping

``` r
## Load packages via 'pacman' package manager
pacman::p_load(broom, ggplot2, googleVis, rgdal)

## Set the working directory
# setwd("ENTER YOUR WORKING DIRECTORY HERE")
```

2016 EU Referendum (Brexit) vote share

``` r
## Download and import brexit data from the web (or get from Github directly)
url.df <- "https://goo.gl/Bk1vq6"
file.df <- "EU-referendum-result-data.csv"

## Only download the file if it doesn't exist in the working directory
if (!file.exists(file.df))
    download.file(url = url.df, destfile = file.df)

## Load the brexit data
brexit <- read.csv(file.df)
head(brexit)
```

    ##    id Region_Code Region Area_Code                 Area Electorate
    ## 1 108   E12000006   East E06000031         Peterborough     120892
    ## 2 109   E12000006   East E06000032                Luton     127612
    ## 3 112   E12000006   East E06000033      Southend-on-Sea     128856
    ## 4 113   E12000006   East E06000034             Thurrock     109897
    ## 5 110   E12000006   East E06000055              Bedford     119530
    ## 6 111   E12000006   East E06000056 Central Bedfordshire     204004
    ##   ExpectedBallots VerifiedBallotPapers Pct_Turnout Votes_Cast Valid_Votes
    ## 1           87474                87469       72.35      87469       87392
    ## 2           84633                84636       66.31      84616       84481
    ## 3           93948                93939       72.90      93939       93870
    ## 4           79969                79954       72.75      79950       79916
    ## 5           86136                86136       72.06      86135       86066
    ## 6          158904               158896       77.89     158894      158804
    ##   Remain Leave Rejected_Ballots No_official_mark Voting_for_both_answers
    ## 1  34176 53216               77                0                      32
    ## 2  36708 47773              135                0                      85
    ## 3  39348 54522               69                0                      21
    ## 4  22151 57765               34                0                       8
    ## 5  41497 44569               69                0                      26
    ## 6  69670 89134               90                0                      34
    ##   Writing_or_mark Unmarked_or_void Pct_Remain Pct_Leave Pct_Rejected
    ## 1               7               38      39.11     60.89         0.09
    ## 2               0               50      43.45     56.55         0.16
    ## 3               0               48      41.92     58.08         0.07
    ## 4               3               23      27.72     72.28         0.04
    ## 5               1               42      48.22     51.78         0.08
    ## 6               1               55      43.87     56.13         0.06

``` r
## Order 'leave' vote share from highest to lowest
rank <- order(-brexit$Pct_Leave)  # Create vector of rankings 
brexit <- brexit[rank, ]  # Sort the data by leave rank, highest to lowest

## Display 'Leave' vote share from highest to lowest
bar.plot <- gvisBarChart(brexit, xvar = "Area", yvar = "Pct_Leave", 
                         options = list(legend = "none",
                                        vAxes = "[{textStyle:{fontSize: '16'}}]",
                                        chartArea = "{left:250,top:10,bottom:10}",
                                        width= 800, height = 10000) )
plot(bar.plot)

## Save the bar chart
bar.plot$html$chart
```

    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                jsHeader 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      "<!-- BarChart generated in R 3.3.2 by googleVis 0.6.1 package -->\n<!-- Sun Nov 26 15:35:19 2017 -->\n\n\n<!-- jsHeader -->\n<script type=\"text/javascript\">\n" 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  jsData 
    ## "\n// jsData \nfunction gvisDataBarChartIDcdc344301ee0 () {\nvar data = new google.visualization.DataTable();\nvar datajson =\n[\n [\n\"Boston\",\n75.56\n],\n[\n\"South Holland\",\n73.59\n],\n[\n\"Castle Point\",\n72.7\n],\n[\n\"Thurrock\",\n72.28\n],\n[\n\"Great Yarmouth\",\n71.5\n],\n[\n\"Fenland\",\n71.39\n],\n[\n\"Mansfield\",\n70.86\n],\n[\n\"Bolsover\",\n70.83\n],\n[\n\"East Lindsey\",\n70.65\n],\n[\n\"North East Lincolnshire\",\n69.87\n],\n[\n\"Ashfield\",\n69.84\n],\n[\n\"Havering\",\n69.66\n],\n[\n\"Hartlepool\",\n69.57\n],\n[\n\"Tendring\",\n69.5\n],\n[\n\"Stoke-on-Trent\",\n69.36\n],\n[\n\"Doncaster\",\n68.96\n],\n[\n\"Cannock Chase\",\n68.86\n],\n[\n\"Basildon\",\n68.62\n],\n[\n\"Barnsley\",\n68.31\n],\n[\n\"Harlow\",\n68.1\n],\n[\n\"Rotherham\",\n67.89\n],\n[\n\"Walsall\",\n67.86\n],\n[\n\"Bassetlaw\",\n67.83\n],\n[\n\"Kingston upon Hull, City of\",\n67.62\n],\n[\n\"Dudley\",\n67.6\n],\n[\n\"Tamworth\",\n67.47\n],\n[\n\"Blackpool\",\n67.46\n],\n[\n\"North Warwickshire\",\n66.88\n],\n[\n\"Sandwell\",\n66.72\n],\n[\n\"Rochford\",\n66.61\n],\n[\n\"Burnley\",\n66.61\n],\n[\n\"King's Lynn and West Norfolk\",\n66.4\n],\n[\n\"Wakefield\",\n66.36\n],\n[\n\"North Lincolnshire\",\n66.3\n],\n[\n\"Broxbourne\",\n66.26\n],\n[\n\"Redcar and Cleveland\",\n66.19\n],\n[\n\"Hyndburn\",\n66.19\n],\n[\n\"Nuneaton and Bedworth\",\n66.01\n],\n[\n\"Middlesbrough\",\n65.48\n],\n[\n\"Gravesham\",\n65.38\n],\n[\n\"Forest Heath\",\n64.97\n],\n[\n\"South Staffordshire\",\n64.85\n],\n[\n\"Staffordshire Moorlands\",\n64.73\n],\n[\n\"Corby\",\n64.25\n],\n[\n\"Breckland\",\n64.22\n],\n[\n\"Dartford\",\n64.22\n],\n[\n\"Medway\",\n64.08\n],\n[\n\"Wigan\",\n63.9\n],\n[\n\"Gosport\",\n63.86\n],\n[\n\"Thanet\",\n63.85\n],\n[\n\"Wyre\",\n63.77\n],\n[\n\"Telford and Wrekin\",\n63.22\n],\n[\n\"East Staffordshire\",\n63.21\n],\n[\n\"Torbay\",\n63.16\n],\n[\n\"Pendle\",\n63.15\n],\n[\n\"Wyre Forest\",\n63.15\n],\n[\n\"Newcastle-under-Lyme\",\n63.04\n],\n[\n\"Bexley\",\n62.95\n],\n[\n\"Waveney\",\n62.9\n],\n[\n\"North East Derbyshire\",\n62.78\n],\n[\n\"Epping Forest\",\n62.69\n],\n[\n\"Maldon\",\n62.58\n],\n[\n\"Wolverhampton\",\n62.57\n],\n[\n\"Arun\",\n62.48\n],\n[\n\"Swale\",\n62.46\n],\n[\n\"Barking and Dagenham\",\n62.44\n],\n[\n\"Wellingborough\",\n62.42\n],\n[\n\"Havant\",\n62.36\n],\n[\n\"Redditch\",\n62.29\n],\n[\n\"North Kesteven\",\n62.26\n],\n[\n\"Shepway\",\n62.25\n],\n[\n\"Dover\",\n62.15\n],\n[\n\"South Tyneside\",\n62.05\n],\n[\n\"Blaenau Gwent\",\n62.03\n],\n[\n\"Copeland\",\n62\n],\n[\n\"Scarborough\",\n61.99\n],\n[\n\"Isle of Wight\",\n61.95\n],\n[\n\"West Lindsey\",\n61.82\n],\n[\n\"Stockton-on-Tees\",\n61.73\n],\n[\n\"Sunderland\",\n61.34\n],\n[\n\"Erewash\",\n61.23\n],\n[\n\"Sedgemoor\",\n61.2\n],\n[\n\"Tameside\",\n61.14\n],\n[\n\"Braintree\",\n61.13\n],\n[\n\"Weymouth and Portland\",\n61.04\n],\n[\n\"Kettering\",\n60.99\n],\n[\n\"Peterborough\",\n60.89\n],\n[\n\"Oldham\",\n60.86\n],\n[\n\"Torridge\",\n60.83\n],\n[\n\"North West Leicestershire\",\n60.7\n],\n[\n\"Rossendale\",\n60.68\n],\n[\n\"Barrow-in-Furness\",\n60.62\n],\n[\n\"West Somerset\",\n60.59\n],\n[\n\"East Riding of Yorkshire\",\n60.4\n],\n[\n\"Newark and Sherwood\",\n60.39\n],\n[\n\"South Derbyshire\",\n60.35\n],\n[\n\"Hinckley and Bosworth\",\n60.33\n],\n[\n\"Spelthorne\",\n60.3\n],\n[\n\"Amber Valley\",\n60.28\n],\n[\n\"Carlisle\",\n60.14\n],\n[\n\"Rochdale\",\n60.07\n],\n[\n\"Chesterfield\",\n60.04\n],\n[\n\"Plymouth\",\n59.94\n],\n[\n\"South Kesteven\",\n59.93\n],\n[\n\"Torfaen\",\n59.78\n],\n[\n\"Blaby\",\n59.47\n],\n[\n\"Ashford\",\n59.43\n],\n[\n\"Stevenage\",\n59.25\n],\n[\n\"Herefordshire, County of\",\n59.22\n],\n[\n\"Selby\",\n59.17\n],\n[\n\"Brentwood\",\n59.15\n],\n[\n\"Purbeck\",\n59.07\n],\n[\n\"Wrexham\",\n59.04\n],\n[\n\"North Norfolk\",\n58.91\n],\n[\n\"Christchurch\",\n58.83\n],\n[\n\"Lichfield\",\n58.81\n],\n[\n\"East Northamptonshire\",\n58.76\n],\n[\n\"Maidstone\",\n58.75\n],\n[\n\"Allerdale\",\n58.65\n],\n[\n\"Daventry\",\n58.6\n],\n[\n\"Forest of Dean\",\n58.58\n],\n[\n\"South Ribble\",\n58.56\n],\n[\n\"Rother\",\n58.53\n],\n[\n\"Gloucester\",\n58.5\n],\n[\n\"Crawley\",\n58.41\n],\n[\n\"Northampton\",\n58.38\n],\n[\n\"Bolton\",\n58.29\n],\n[\n\"Ipswich\",\n58.26\n],\n[\n\"Rushmoor\",\n58.21\n],\n[\n\"Poole\",\n58.17\n],\n[\n\"Melton\",\n58.11\n],\n[\n\"Southend-on-Sea\",\n58.08\n],\n[\n\"Portsmouth\",\n58.08\n],\n[\n\"St. Helens\",\n58.02\n],\n[\n\"Wychavon\",\n57.86\n],\n[\n\"New Forest\",\n57.76\n],\n[\n\"Caerphilly\",\n57.63\n],\n[\n\"East Dorset\",\n57.62\n],\n[\n\"County Durham\",\n57.55\n],\n[\n\"Halton\",\n57.42\n],\n[\n\"Eastbourne\",\n57.33\n],\n[\n\"South Somerset\",\n57.25\n],\n[\n\"Derby\",\n57.22\n],\n[\n\"Pembrokeshire\",\n57.14\n],\n[\n\"North Devon\",\n57.04\n],\n[\n\"Fylde\",\n56.96\n],\n[\n\"Lincoln\",\n56.94\n],\n[\n\"Shropshire\",\n56.87\n],\n[\n\"Gateshead\",\n56.85\n],\n[\n\"Neath Port Talbot\",\n56.84\n],\n[\n\"Chorley\",\n56.83\n],\n[\n\"Salford\",\n56.81\n],\n[\n\"Richmondshire\",\n56.78\n],\n[\n\"Rugby\",\n56.7\n],\n[\n\"St Edmundsbury\",\n56.62\n],\n[\n\"Luton\",\n56.55\n],\n[\n\"Cornwall\",\n56.52\n],\n[\n\"Merthyr Tydfil\",\n56.44\n],\n[\n\"North Dorset\",\n56.4\n],\n[\n\"Ribble Valley\",\n56.39\n],\n[\n\"Hillingdon\",\n56.37\n],\n[\n\"Flintshire\",\n56.37\n],\n[\n\"Blackburn with Darwen\",\n56.34\n],\n[\n\"Darlington\",\n56.18\n],\n[\n\"Solihull\",\n56.16\n],\n[\n\"Central Bedfordshire\",\n56.13\n],\n[\n\"Newport\",\n55.99\n],\n[\n\"Stafford\",\n55.99\n],\n[\n\"Tonbridge and Malling\",\n55.7\n],\n[\n\"Calderdale\",\n55.68\n],\n[\n\"Coventry\",\n55.6\n],\n[\n\"Gedling\",\n55.55\n],\n[\n\"Bromsgrove\",\n55.37\n],\n[\n\"West Lancashire\",\n55.31\n],\n[\n\"Ryedale\",\n55.26\n],\n[\n\"Mid Suffolk\",\n55.23\n],\n[\n\"Fareham\",\n55.1\n],\n[\n\"Hastings\",\n54.88\n],\n[\n\"Bournemouth\",\n54.88\n],\n[\n\"Kirklees\",\n54.67\n],\n[\n\"Swindon\",\n54.66\n],\n[\n\"Broxtowe\",\n54.65\n],\n[\n\"Bridgend\",\n54.64\n],\n[\n\"Oadby and Wigston\",\n54.58\n],\n[\n\"Adur\",\n54.57\n],\n[\n\"Wealden\",\n54.5\n],\n[\n\"Sevenoaks\",\n54.38\n],\n[\n\"Broadland\",\n54.37\n],\n[\n\"South Northamptonshire\",\n54.34\n],\n[\n\"Slough\",\n54.33\n],\n[\n\"Warrington\",\n54.27\n],\n[\n\"Runnymede\",\n54.26\n],\n[\n\"Huntingdonshire\",\n54.24\n],\n[\n\"Bradford\",\n54.23\n],\n[\n\"Babergh\",\n54.19\n],\n[\n\"Bury\",\n54.12\n],\n[\n\"Northumberland\",\n54.11\n],\n[\n\"East Devon\",\n54.11\n],\n[\n\"Denbighshire\",\n54\n],\n[\n\"Conwy\",\n53.98\n],\n[\n\"Bracknell Forest\",\n53.94\n],\n[\n\"Teignbridge\",\n53.9\n],\n[\n\"Charnwood\",\n53.81\n],\n[\n\"Southampton\",\n53.8\n],\n[\n\"Carmarthenshire\",\n53.75\n],\n[\n\"Powys\",\n53.74\n],\n[\n\"Sutton\",\n53.72\n],\n[\n\"Rhondda Cynon Taf\",\n53.7\n],\n[\n\"Worcester\",\n53.68\n],\n[\n\"Hambleton\",\n53.66\n],\n[\n\"Colchester\",\n53.6\n],\n[\n\"North Tyneside\",\n53.4\n],\n[\n\"Mid Devon\",\n53.34\n],\n[\n\"Eden\",\n53.32\n],\n[\n\"Preston\",\n53.31\n],\n[\n\"Tewkesbury\",\n53.25\n],\n[\n\"West Devon\",\n53.2\n],\n[\n\"Suffolk Coastal\",\n53\n],\n[\n\"Welwyn Hatfield\",\n52.99\n],\n[\n\"Worthing\",\n52.99\n],\n[\n\"Taunton Deane\",\n52.92\n],\n[\n\"Tandridge\",\n52.84\n],\n[\n\"Chelmsford\",\n52.83\n],\n[\n\"Craven\",\n52.83\n],\n[\n\"South Gloucestershire\",\n52.68\n],\n[\n\"Wiltshire\",\n52.49\n],\n[\n\"Eastleigh\",\n52.45\n],\n[\n\"North Somerset\",\n52.17\n],\n[\n\"Malvern Hills\",\n52.16\n],\n[\n\"Test Valley\",\n51.94\n],\n[\n\"Basingstoke and Deane\",\n51.9\n],\n[\n\"Bedford\",\n51.78\n],\n[\n\"South Norfolk\",\n51.69\n],\n[\n\"Derbyshire Dales\",\n51.56\n],\n[\n\"Knowsley\",\n51.56\n],\n[\n\"Stratford-on-Avon\",\n51.56\n],\n[\n\"Swansea\",\n51.51\n],\n[\n\"Milton Keynes\",\n51.41\n],\n[\n\"Three Rivers\",\n51.27\n],\n[\n\"Cheshire East\",\n51.18\n],\n[\n\"Lancaster\",\n51.08\n],\n[\n\"Canterbury\",\n51.04\n],\n[\n\"West Dorset\",\n51.03\n],\n[\n\"Sheffield\",\n50.99\n],\n[\n\"Surrey Heath\",\n50.98\n],\n[\n\"Isle of Anglesey\",\n50.94\n],\n[\n\"East Cambridgeshire\",\n50.92\n],\n[\n\"Chichester\",\n50.92\n],\n[\n\"Hertsmere\",\n50.84\n],\n[\n\"Nottingham\",\n50.84\n],\n[\n\"Harborough\",\n50.75\n],\n[\n\"South Bucks\",\n50.7\n],\n[\n\"Uttlesford\",\n50.68\n],\n[\n\"Cheshire West and Chester\",\n50.68\n],\n[\n\"Dacorum\",\n50.67\n],\n[\n\"Rutland\",\n50.57\n],\n[\n\"High Peak\",\n50.55\n],\n[\n\"Aylesbury Vale\",\n50.5\n],\n[\n\"Reigate and Banstead\",\n50.49\n],\n[\n\"Birmingham\",\n50.42\n],\n[\n\"East Hertfordshire\",\n50.36\n],\n[\n\"Cherwell\",\n50.31\n],\n[\n\"Watford\",\n50.27\n],\n[\n\"Moray\",\n49.87\n],\n[\n\"Leeds\",\n49.69\n],\n[\n\"Monmouthshire\",\n49.56\n],\n[\n\"East Hampshire\",\n49.48\n],\n[\n\"Bromley\",\n49.35\n],\n[\n\"Newcastle upon Tyne\",\n49.3\n],\n[\n\"Vale of Glamorgan\",\n49.27\n],\n[\n\"Harrogate\",\n49.03\n],\n[\n\"Hounslow\",\n48.94\n],\n[\n\"Mendip\",\n48.93\n],\n[\n\"Leicester\",\n48.92\n],\n[\n\"Cotswold\",\n48.9\n],\n[\n\"Horsham\",\n48.54\n],\n[\n\"Wirral\",\n48.3\n],\n[\n\"West Berkshire\",\n48.22\n],\n[\n\"Sefton\",\n48.13\n],\n[\n\"Wycombe\",\n48.03\n],\n[\n\"Lewes\",\n47.93\n],\n[\n\"Epsom and Ewell\",\n47.92\n],\n[\n\"Stockport\",\n47.67\n],\n[\n\"Hart\",\n47.6\n],\n[\n\"Newham\",\n47.16\n],\n[\n\"South Hams\",\n47.15\n],\n[\n\"South Lakeland\",\n47.14\n],\n[\n\"Dumfries and Galloway\",\n46.94\n],\n[\n\"Mole Valley\",\n46.92\n],\n[\n\"Mid Sussex\",\n46.91\n],\n[\n\"West Oxfordshire\",\n46.34\n],\n[\n\"Windsor and Maidenhead\",\n46.1\n],\n[\n\"Redbridge\",\n46.03\n],\n[\n\"Croydon\",\n45.71\n],\n[\n\"North Hertfordshire\",\n45.63\n],\n[\n\"Stroud\",\n45.39\n],\n[\n\"Harrow\",\n45.37\n],\n[\n\"Ceredigion\",\n45.37\n],\n[\n\"Tunbridge Wells\",\n45.11\n],\n[\n\"South Oxfordshire\",\n45.02\n],\n[\n\"Aberdeenshire\",\n44.99\n],\n[\n\"Chiltern\",\n44.98\n],\n[\n\"Eilean Siar\",\n44.76\n],\n[\n\"Angus\",\n44.74\n],\n[\n\"Exeter\",\n44.72\n],\n[\n\"Greenwich\",\n44.41\n],\n[\n\"Northern Ireland\",\n44.22\n],\n[\n\"Enfield\",\n44.18\n],\n[\n\"Highland\",\n44.05\n],\n[\n\"Woking\",\n43.85\n],\n[\n\"Guildford\",\n43.83\n],\n[\n\"Cheltenham\",\n43.83\n],\n[\n\"Norwich\",\n43.76\n],\n[\n\"Isles of Scilly\",\n43.61\n],\n[\n\"Shetland Islands\",\n43.49\n],\n[\n\"Wokingham\",\n43.31\n],\n[\n\"Vale of White Horse\",\n43.3\n],\n[\n\"Falkirk\",\n43.24\n],\n[\n\"North Ayrshire\",\n43.12\n],\n[\n\"Rushcliffe\",\n42.45\n],\n[\n\"Trafford\",\n42.31\n],\n[\n\"Clackmannanshire\",\n42.22\n],\n[\n\"Bath and North East Somerset\",\n42.15\n],\n[\n\"Reading\",\n41.97\n],\n[\n\"York\",\n41.96\n],\n[\n\"Gwynedd\",\n41.95\n],\n[\n\"Liverpool\",\n41.81\n],\n[\n\"West Lothian\",\n41.75\n],\n[\n\"Waverley\",\n41.61\n],\n[\n\"Scottish Borders\",\n41.53\n],\n[\n\"Fife\",\n41.41\n],\n[\n\"East Ayrshire\",\n41.4\n],\n[\n\"Warwick\",\n41.22\n],\n[\n\"Winchester\",\n41.07\n],\n[\n\"South Ayrshire\",\n41.04\n],\n[\n\"Waltham Forest\",\n40.9\n],\n[\n\"Elmbridge\",\n40.47\n],\n[\n\"Brent\",\n40.26\n],\n[\n\"Dundee City\",\n40.22\n],\n[\n\"Cardiff\",\n39.98\n],\n[\n\"South Cambridgeshire\",\n39.77\n],\n[\n\"Manchester\",\n39.64\n],\n[\n\"Ealing\",\n39.6\n],\n[\n\"Argyll and Bute\",\n39.43\n],\n[\n\"Perth and Kinross\",\n38.91\n],\n[\n\"Aberdeen City\",\n38.9\n],\n[\n\"Kingston upon Thames\",\n38.39\n],\n[\n\"North Lanarkshire\",\n38.34\n],\n[\n\"Bristol, City of\",\n38.27\n],\n[\n\"West Dunbartonshire\",\n38.01\n],\n[\n\"Midlothian\",\n37.94\n],\n[\n\"Barnet\",\n37.77\n],\n[\n\"St Albans\",\n37.29\n],\n[\n\"Merton\",\n37.06\n],\n[\n\"South Lanarkshire\",\n36.92\n],\n[\n\"Orkney Islands\",\n36.84\n],\n[\n\"Inverclyde\",\n36.2\n],\n[\n\"East Lothian\",\n35.4\n],\n[\n\"Renfrewshire\",\n35.19\n],\n[\n\"Glasgow City\",\n33.41\n],\n[\n\"Tower Hamlets\",\n32.54\n],\n[\n\"Stirling\",\n32.28\n],\n[\n\"Brighton and Hove\",\n31.38\n],\n[\n\"Kensington and Chelsea\",\n31.31\n],\n[\n\"Westminster\",\n31.03\n],\n[\n\"Richmond upon Thames\",\n30.71\n],\n[\n\"Lewisham\",\n30.14\n],\n[\n\"Hammersmith and Fulham\",\n29.98\n],\n[\n\"Oxford\",\n29.73\n],\n[\n\"East Dunbartonshire\",\n28.6\n],\n[\n\"Southwark\",\n27.19\n],\n[\n\"Cambridge\",\n26.15\n],\n[\n\"East Renfrewshire\",\n25.68\n],\n[\n\"City of Edinburgh\",\n25.56\n],\n[\n\"Camden\",\n25.06\n],\n[\n\"Wandsworth\",\n24.97\n],\n[\n\"Islington\",\n24.78\n],\n[\n\"City of London\",\n24.71\n],\n[\n\"Haringey\",\n24.43\n],\n[\n\"Hackney\",\n21.52\n],\n[\n\"Lambeth\",\n21.38\n],\n[\n\"Gibraltar\",\n4.09\n] \n];\ndata.addColumn('string','Area');\ndata.addColumn('number','Pct_Leave');\ndata.addRows(datajson);\nreturn(data);\n}\n" 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             jsDrawChart 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         "\n// jsDrawChart\nfunction drawChartBarChartIDcdc344301ee0() {\nvar data = gvisDataBarChartIDcdc344301ee0();\nvar options = {};\noptions[\"allowHtml\"] = true;\noptions[\"legend\"] = \"none\";\noptions[\"vAxes\"] = [{textStyle:{fontSize: '16'}}];\noptions[\"chartArea\"] = {left:250,top:10,bottom:10};\noptions[\"width\"] = 800;\noptions[\"height\"] = 10000;\n\n\n    var chart = new google.visualization.BarChart(\n    document.getElementById('BarChartIDcdc344301ee0')\n    );\n    chart.draw(data,options);\n    \n\n}\n  \n" 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          jsDisplayChart 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         "\n// jsDisplayChart\n(function() {\nvar pkgs = window.__gvisPackages = window.__gvisPackages || [];\nvar callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];\nvar chartid = \"corechart\";\n  \n// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)\nvar i, newPackage = true;\nfor (i = 0; newPackage && i < pkgs.length; i++) {\nif (pkgs[i] === chartid)\nnewPackage = false;\n}\nif (newPackage)\n  pkgs.push(chartid);\n  \n// Add the drawChart function to the global list of callbacks\ncallbacks.push(drawChartBarChartIDcdc344301ee0);\n})();\nfunction displayChartBarChartIDcdc344301ee0() {\n  var pkgs = window.__gvisPackages = window.__gvisPackages || [];\n  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];\n  window.clearTimeout(window.__gvisLoad);\n  // The timeout is set to 100 because otherwise the container div we are\n  // targeting might not be part of the document yet\n  window.__gvisLoad = setTimeout(function() {\n  var pkgCount = pkgs.length;\n  google.load(\"visualization\", \"1\", { packages:pkgs, callback: function() {\n  if (pkgCount != pkgs.length) {\n  // Race condition where another setTimeout call snuck in after us; if\n  // that call added a package, we must not shift its callback\n  return;\n}\nwhile (callbacks.length > 0)\ncallbacks.shift()();\n} });\n}, 100);\n}\n" 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                jsFooter 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            "\n// jsFooter\n</script>\n" 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 jsChart 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   "\n<!-- jsChart -->  \n<script type=\"text/javascript\" src=\"https://www.google.com/jsapi?callback=displayChartBarChartIDcdc344301ee0\"></script>\n" 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                divChart 
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       "\n<!-- divChart -->\n  \n<div id=\"BarChartIDcdc344301ee0\" \n  style=\"width: 800; height: 10000;\">\n</div>\n"

``` r
cat(bar.plot$html$chart, file = "brexit.bar.plot.html")
```

UK ESRI shapefile

``` r
## Download and import from the web (or get from Github)
url.shp <- "https://t.co/GYqX2PCqJ0"
file.zip <- "esri.zip"

## Download the shape file if it's not present
if (!file.exists(file.zip)) 
    download.file(url = url.shp, destfile = file.zip, mode = "wb")

## Unzio and extract the .shp file
file.shp <- grep("shp", unzip(file.zip), 
                 ignore.case=TRUE, value=TRUE)

## Import the .shp file into R
uk.shp <- readOGR(file.shp, 
                  ogrListLayers(file.shp)[1])  # Load the shapefile
```

    ## OGR data source with driver: ESRI Shapefile 
    ## Source: "./Geotheory-UK-2016-EU-Referendum/Geotheory-UK-2016-EU-Referendum.shp", layer: "Geotheory-UK-2016-EU-Referendum"
    ## with 381 features
    ## It has 21 fields

``` r
## Remove Gibraltar
brexit2 <- brexit[!(brexit$Area == "Gibraltar"), ]

## Fix levels to remove 'Gibraltar'
brexit2 <- droplevels(brexit2)

## Only keep variables needed for mapping
brexit2 <- subset(brexit2, select = c("Area_Code", "Pct_Leave"))

## Change names to match shape file for merging
names(brexit2) <- c("Area_Cd", "Pct_Leave")

## Sort the data by Area Code for merging
ac.order <- order(brexit2$Area_Cd)  # Create ordering id
brexit2 <- brexit2[ac.order, ]  # Sort the data by ordering id

## Confirm that the Area Code in the brexit data matches the shapefile
sort(brexit2$Area_Cd) == sort(uk.shp@data$Area_Cd)
```

    ##   [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ##  [15] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ##  [29] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ##  [43] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ##  [57] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ##  [71] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ##  [85] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ##  [99] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [113] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [127] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [141] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [155] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [169] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [183] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [197] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [211] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [225] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [239] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [253] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [267] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [281] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [295] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [309] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [323] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [337] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [351] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [365] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
    ## [379] TRUE TRUE TRUE

``` r
## Merge the datasets
uk.merged <- merge(uk.shp, brexit2, by = "Area_Cd")

## Convert to a data.frame
uk.df <- uk.merged@data

## Convert the map data to a data.frame for ggplot using the 'broom' package
uk.map <- tidy(uk.merged)
```

    ## Regions defined for each Polygons

``` r
## Adjust data 'id' so that it matches the map 'id'
uk.df$id <- uk.df$id - 1 

## Mapping Brexit vote share using ggplot
map <- ggplot() +  # Create the plot
    geom_map(data = uk.df,  # Make a map
             aes(map_id = uk.df$id, fill = uk.df$Pct_Leave),  # Fill with 'leave' vote
             map = uk.map) +  # Draw the map using converted .shp file
    expand_limits(x = uk.map$long, y = uk.map$lat) + # Needed to display map
    scale_fill_distiller(palette = "Spectral") +  # Choose colours
    # scale_fill_gradient(low = "white", high = "#000034") +  # Colours for printing
    ggtitle("Brexit Map: 2016 EU Referendum Vote Share") +  # Title
    labs(fill = "Leave (%)") +  # Legend label
    theme(plot.title = element_text(lineheight = .8, face = "bold"),  # Bold title
          axis.title.x = element_blank(),  # Remove x-axis title
          axis.text.x = element_blank(),  # Remove x-axis labels
          axis.title.y = element_blank(),  # Remove y-axis title
          axis.text.y = element_blank(),  # Remove y-axis labels
          axis.ticks = element_blank())  # Remove axis tick marks

plot(map)
```

![](mapping_2016_brexit_vote_v2_files/figure-markdown_github-ascii_identifiers/unnamed-chunk-3-1.png)
